<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>黒崎 誠（主任補佐／神経統合理論部門）</title>
  <link rel="stylesheet" href="./style.css">
  <style>
    /* 緑リンク（訪問済みも常に緑） */
    a.green-link { color:#00ff7f; text-decoration:none; font-weight:700; transition:.2s; }
    a.green-link:hover { opacity:.85; text-decoration:underline; }
    a.green-link:visited { color:#00ff7f; }
  </style>
</head>
<body>
  <div class="content-container">
    <div class="content-box">
      <h2>黒崎 誠（主任補佐／神経統合理論部門）</h2>
      <p>
        榊原研究主任の補佐として、再生移植の手術計画や経過データの管理を担当していた。<br><br>
        主に被験体の神経反応や移植後の適応状態を記録・分析し、
        <span class="green">研究チーム内では実務面の中核を担っていた人物</span>である。
        また、榊原の指示のもとでドナー情報の照合や入手経路の確認も行っていたとされる。<br><br>

        ドナー供給経路の確保においては、<span class="green">複数の外部調達ラインとの調整を行った形跡</span>がある。
        特に一部の臓器データは、正式な倫理承認ルートを経由していない可能性が指摘されており、
        <a href="vein09.html" class="green-link">黒崎個人の認可権限を超えた入手経路</a>が存在したとの報告もある。
      </p>

      <div class="footer">
        <!-- デフォルトの戻り先は page3.html。JSで “元ページ” に差し替える -->
        <a id="backLink" href="page3.html" class="prev">戻る</a>
      </div>
    </div>
  </div>

  <script>
  (() => {
    const back = document.getElementById('backLink');
    const allow = new Set(['index.html','page1.html','page2.html','page3.html','schedule.html','group.html']);

    // 1) ?from= が来てたら保存（vein09 往復でも保持）
    const url = new URL(location.href);
    const fromParam = url.searchParams.get('from');
    if (fromParam) sessionStorage.setItem('kuro_from', fromParam);

    // 2) 保存された “元ページ” を最優先で採用
    let from = sessionStorage.getItem('kuro_from');

    // 3) もし未保存なら、同一オリジンの referrer が許可先なら採用
    if (!from && document.referrer) {
      try {
        const ref = new URL(document.referrer);
        if (ref.origin === location.origin) {
          const name = ref.pathname.split('/').pop();
          if (allow.has(name)) from = name;
        }
      } catch(e){}
    }

    // 4) 差し替え（vein09.html には戻らない）
    if (from && allow.has(from)) back.href = from;
  })();
  </script>
</body>
</html>